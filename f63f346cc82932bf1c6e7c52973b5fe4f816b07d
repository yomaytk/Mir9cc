Since function definitions are allowed only at the toplevel, we don't have to handle it in walk().
